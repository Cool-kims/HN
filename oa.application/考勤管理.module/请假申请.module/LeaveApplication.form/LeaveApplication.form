<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<form id="__Snw5utsO4r6LIogffqz">
  <name>LeaveApplication</name>
  <parentId>__XGmg3jTk1QWIhzDrgas</parentId>
  <description>请假申请</description>
  <templatecontext><![CDATA[<div style="text-align: center;">&nbsp;</div>
<table width="100%" height="89" align="center" border="1" cellpadding="1" cellspacing="0" style="border: 1px solid rgb(180, 204, 238);">
    <tbody>
        <tr>
            <td style="text-align: center; border: 1px solid rgb(180, 204, 238);"><span style="color: rgb(96, 98, 102);"><strong style="font-size: x-large; text-align: center;">请假申请&nbsp;Leave Application</strong></span></td>
        </tr>
    </tbody>
</table>
<table width="100%" height="169" border="1" cellpadding="1" cellspacing="0" style="border: 1px solid rgb(180, 204, 238);" align="center">
    <tbody>
        <tr>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="20%"><span style="color: rgb(96, 98, 102);">申请单号 Request No：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__gpOB9yuZ60yB4xfXi9U" text="text" name="LeaveNO" texttype="text" hidetype="parent" ishidetype="false" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" layout="horizontal" readonlyshowvalonly="true" showlog="true" discript="请假单号" validaterule="" valuescript="" width="" widthunit="px" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="true" refreshonchanged="false" worklimitchecked="false" textareamaxlimit="" isdefaultvalue="false" calculateonrefresh="false" mobile="true" secrettext="false" defaultvalueisnull="false" numberpattern="" processdescription="[];[]" filtercondition="" instantvalidate="false" validatelibs="" editmode="01" refreshmode="0" refreshfields="" attributeid="undefined" /></span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="20%"><span style="color: rgb(96, 98, 102);">申请时间 Application Time：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><input classname="cn.myapps.runtime.dynaform.form.ejb.DateField" id="__Y5yE7ZAHpV9ZWC83s2g" type="text" fieldtype="VALUE_TYPE_DATE" name="ApplicationDate" width="180" widthunit="px" refreshonchanged="false" readonlyshowvalonly="true" showlog="true" isdefaultvalue="false" calculateonrefresh="false" mobile="true" limit="false" prev_name="" discript="" valuescript="(function(){@amp;#13;var@nbsp;applyDate@nbsp;=@nbsp;getItemValueAsDate(@quot;ApplicationDate@quot;);@amp;#13;if(applyDate==null)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;applyDate=@nbsp;getToday();@nbsp;@nbsp;//当前日期@amp;#13;}@amp;#13;return@nbsp;applyDate;@amp;#13;})()" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" texttype="readonly" hidetype="parent" ishidetype="false" filtercondition="" datepattern="YMD" processdescription="[];[]" instantvalidate="false" validatelibs="" refreshmode="0" refreshfields="" editmode="01" attributeid="undefined" /></span></td>
        </tr>
        <tr>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="15%"><span style="color: rgb(96, 98, 102);">申请人 applicant：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><select classname="cn.myapps.runtime.dynaform.form.ejb.UserField" id="__iJSgUrAiu9UpWEsk2dX" type="text" name="Applicant" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" readonlyshowvalonly="true" mobile="true" valuescript="(function(){@amp;#13;@nbsp;var@nbsp;applicant@nbsp;=@nbsp;getItemValueAsString(@quot;Applicant@quot;);@nbsp;@nbsp;@amp;#13;if(applicant@nbsp;==@nbsp;@quot;@quot;){@amp;#13;@nbsp;@nbsp;@nbsp;var@nbsp;user=@nbsp;getWebUser().getId();@amp;#13;@nbsp;}@amp;#13;return@nbsp;user;@amp;#13;})()" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" discript="申请人" layout="horizontal" limitsum="10" width="100" widthunit="%" fieldtype="VALUE_TYPE_TEXT" texttype="readonly" hidetype="parent" ishidetype="false" limitbyuser="false" isuserfield="true" filterfield="" filtercondition="" processdescription="[];[]" instantvalidate="false" validatelibs="" editmode="01" refreshmode="0" refreshfields="" selectmode="multiSelect"></select></span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="15%"><span style="color: rgb(255, 0, 0);">*</span><span style="color: rgb(96, 98, 102);">请假类型 Leave type：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><select classname="cn.myapps.runtime.dynaform.form.ejb.SelectField" id="__kmSycI4fm11pthqKmO6" name="LeaveType" discript="请假类型" layout="horizontal" readonlyshowvalonly="true" valuescript="" optionsscript="#include@nbsp;@quot;basic@quot;;@amp;#13;(function(){@amp;#13;return@nbsp;LeaveType();@amp;#13;})()" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" texttype="text" hidetype="parent" ishidetype="false" readonlyscript="" fieldtype="VALUE_TYPE_VARCHAR" processdescription="[];[]" filtercondition="" refreshonchanged="true" isdefaultvalue="false" calculateonrefresh="false" mobile="true" instantvalidate="false" multiselect="false" validatelibs="core.dynaform.form.formfield.validate.checkEmpty_system" editmode="01" width="180" widthunit="px" optionseditmode="01" dialogview="" module="" optionsvalue="" refreshmode="0" refreshfields="" optionstext="" showlog="true" clearable="false" multipledisplaymode="full" attributeid="undefined"></select></span></td>
        </tr>
        <tr>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="15%"><span style="color: rgb(255, 0, 0);">*</span><span style="color: rgb(96, 98, 102);">开始时间 Start Time：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><input classname="cn.myapps.runtime.dynaform.form.ejb.DateField" id="__TnEPOyYNti7yLjR3mfX" type="text" fieldtype="VALUE_TYPE_DATE" name="StartTime" width="180" refreshonchanged="true" readonlyshowvalonly="true" isdefaultvalue="false" calculateonrefresh="false" mobile="true" limit="false" prev_name="" discript="开始时间" valuescript="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" texttype="text" hidetype="parent" ishidetype="false" filtercondition="" datepattern="YMD_HM" processdescription="[];[]" instantvalidate="false" validatelibs="core.dynaform.form.formfield.validate.checkEmpty_system" refreshmode="1" refreshfields="LeaveDays;计算" editmode="01" widthunit="px" showlog="true" attributeid="undefined" /></span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right"><span style="color: rgb(255, 0, 0);">*</span><span style="color: rgb(96, 98, 102);">结束时间 End Time：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><input classname="cn.myapps.runtime.dynaform.form.ejb.DateField" id="__oOrdIIUkexx18fkxKyj" type="text" fieldtype="VALUE_TYPE_DATE" name="EndTime" width="180" refreshonchanged="true" readonlyshowvalonly="true" isdefaultvalue="false" calculateonrefresh="false" mobile="true" limit="true" prev_name="StartTime" discript="结束时间" valuescript="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" texttype="text" hidetype="parent" ishidetype="false" filtercondition="" datepattern="YMD_HM" processdescription="[];[]" instantvalidate="false" validatelibs="core.dynaform.form.formfield.validate.checkEmpty_system" refreshmode="1" refreshfields="LeaveDays;计算" editmode="01" widthunit="px" showlog="true" attributeid="undefined" /></span></td>
        </tr>
        <tr>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="15%"><span style="color: rgb(96, 98, 102);">请假天数 Leave days：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" colspan="3" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__cnAdWvIUsievH4rKJBk" text="readonly" name="LeaveDays" texttype="readonly" hidetype="parent" ishidetype="false" fieldtype="VALUE_TYPE_NUMBER" fieldkeyevent="Tabkey" layout="horizontal" readonlyshowvalonly="true" discript="请假天数" validaterule="" valuescript="(function(){@amp;#13;@nbsp;@nbsp;var@nbsp;starttime1@nbsp;=@nbsp;getItemValueAsString(@quot;StartTime@quot;);@amp;#13;@nbsp;@nbsp;var@nbsp;endtime1@nbsp;=@nbsp;getItemValueAsString(@quot;EndTime@quot;);@amp;#13;@nbsp;@nbsp;var@nbsp;hour@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;var@nbsp;diffday@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;var@nbsp;day@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;if@nbsp;(starttime1@nbsp;!=@nbsp;null@nbsp;@amp;@amp;@nbsp;endtime1@nbsp;!=@nbsp;null@nbsp;@amp;@amp;@nbsp;@quot;@quot;!=(starttime1)@nbsp;@amp;@amp;@nbsp;@quot;@quot;!=(endtime1))@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;diffday@nbsp;=@nbsp;getWorkingTimesCount(starttime1,@nbsp;endtime1);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(diffday@nbsp;+@nbsp;1@nbsp;@gt;@nbsp;round(diffday,@nbsp;0)@nbsp;+@nbsp;1)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;diffday@nbsp;=@nbsp;round(diffday,@nbsp;0)@nbsp;+@nbsp;1;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@nbsp;else@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;diffday@nbsp;=@nbsp;round(diffday,@nbsp;0);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;day@nbsp;=@nbsp;diffday/8;@nbsp;@nbsp;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;leaveType@nbsp;=@nbsp;getItemValueAsString(@quot;LeaveType@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;println(@quot;leaveTyp=@quot;+leaveType)@amp;#13;&#9;@nbsp;//if(@quot;年假@quot;==(leaveType)){@amp;#13;&#9;&#9;//day@nbsp;=@nbsp;Math.ceil(day);@amp;#13;&#9;@nbsp;//}@amp;#13;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;return@nbsp;day;@amp;#13;})();" width="100" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="true" worklimitchecked="false" textareamaxlimit="" isdefaultvalue="false" calculateonrefresh="true" mobile="true" secrettext="false" defaultvalueisnull="false" numberpattern="0.000" processdescription="[];[]" filtercondition="" instantvalidate="false" validatelibs="" editmode="01" refreshmode="0" refreshfields="" widthunit="%" showlog="true" attributeid="undefined" arrow="false" /><img src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" id="__h71gmmBxiiDl6VXha4v" name="计算" valuescript="(function@nbsp;()@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;leaveType@nbsp;=@nbsp;getItemValueAsString(@quot;LeaveType@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;LeaveDays@nbsp;=@nbsp;getItemValueAsDouble(@quot;LeaveDays@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;webUser@nbsp;=@nbsp;getWebUser();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;stateLabel@nbsp;=@nbsp;getStateLabel();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;html@nbsp;=@nbsp;@quot;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;str@nbsp;=@nbsp;@quot;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;userId@nbsp;=@nbsp;webUser.getId();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;userVo@nbsp;=@nbsp;getUserById(userId);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;entryTime@nbsp;=@nbsp;userVo.getField4();@nbsp;//入职时间@amp;#13;&#9;if@nbsp;(isBlank(entryTime))@nbsp;{@amp;#13;&#9;&#9;entryTime@nbsp;=@nbsp;getToday();@amp;#13;&#9;}@amp;#13;&#9;else@nbsp;{@amp;#13;&#9;&#9;entryTime@nbsp;=@nbsp;parseDate(entryTime,@nbsp;@quot;yyyy-MM-dd@quot;);@amp;#13;&#9;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;endtime@nbsp;=@nbsp;getToday();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;end@nbsp;=@nbsp;getYear(endtime);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;entry@nbsp;=@nbsp;getYear(entryTime);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;diff@nbsp;=@nbsp;end@nbsp;-@nbsp;entry;@nbsp;//计算年假@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;annualLeave@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(diff@nbsp;@lt;@nbsp;10)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;annualLeave@nbsp;=@nbsp;5;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@nbsp;else@nbsp;if@nbsp;(diff@nbsp;@gt;=@nbsp;10@nbsp;@amp;@amp;@nbsp;diff@nbsp;@lt;=@nbsp;20)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;annualLeave@nbsp;=@nbsp;10;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@nbsp;else@nbsp;if@nbsp;(diff@nbsp;@gt;@nbsp;20)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;annualLeave@nbsp;=@nbsp;15;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(@quot;年假@quot;==(leaveType))@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql1@nbsp;=@nbsp;@quot;select@nbsp;domainid,SUM(item_LeaveDays)@nbsp;as@nbsp;item_countLeaveDays@nbsp;from@nbsp;tlk_LeaveApplication@nbsp;where@nbsp;STATELABEL@lt;@gt;@#146;未提交@#146;@nbsp;and@nbsp;item_LeaveType=@#146;年假@#146;@nbsp;and@nbsp;item_Applicant=@#146;@quot;@nbsp;+@nbsp;userId@nbsp;+@nbsp;@quot;@#146;@nbsp;and@nbsp;YEAR(item_StartTime)@nbsp;=@nbsp;YEAR(now())@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;println(@quot;sql===@gt;@quot;@nbsp;+@nbsp;sql1);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;days@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;doc@nbsp;=@nbsp;findBySQL(sql1);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;LeaveDay@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;countLeaveDays@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(doc@nbsp;!=@nbsp;null)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;LeaveDay@nbsp;=@nbsp;doc.getItemValueAsDouble(@quot;countLeaveDays@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(stateLabel@nbsp;==@nbsp;null@nbsp;||@nbsp;@quot;@quot;==(stateLabel))@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;countLeaveDays@nbsp;=@nbsp;LeaveDay@nbsp;+@nbsp;LeaveDays;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;days@nbsp;=@nbsp;annualLeave@nbsp;-@nbsp;countLeaveDays;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;str@nbsp;=@nbsp;@quot;剩余年假：@quot;@nbsp;+@nbsp;days@nbsp;+@nbsp;@quot;天,已请年假：@quot;@nbsp;+@nbsp;countLeaveDays@nbsp;+@nbsp;@quot;天@quot;;@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;html@nbsp;=@nbsp;@quot;@lt;span@nbsp;style=@#146;color:red;@#146;@gt;@quot;@nbsp;+@nbsp;str@nbsp;+@nbsp;@quot;@lt;/span@gt;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@nbsp;else@nbsp;if@nbsp;(@quot;补休@quot;==(leaveType))@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql@nbsp;=@nbsp;@quot;select@nbsp;domainid,SUM(item_Hours)@nbsp;as@nbsp;item_countHours@nbsp;from@nbsp;tlk_OvertimeApplication@nbsp;where@nbsp;STATELABEL@nbsp;in@nbsp;(@#146;归档@#146;,@#146;人事备案@#146;)@nbsp;and@nbsp;item_CompensationMethod=@#146;补休假期@#146;@nbsp;and@nbsp;item_Applicant=@#146;@quot;@nbsp;+@nbsp;userId@nbsp;+@nbsp;@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;doc1@nbsp;=@nbsp;findBySQL(sql);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;countHours@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(doc1@nbsp;!=@nbsp;null)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;countHours@nbsp;=@nbsp;doc1.getItemValueAsDouble(@quot;countHours@quot;)@nbsp;/@nbsp;8;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql2@nbsp;=@nbsp;@quot;select@nbsp;domainid,SUM(item_LeaveDays)@nbsp;as@nbsp;item_countLeaveDays@nbsp;from@nbsp;tlk_LeaveApplication@nbsp;where@nbsp;STATELABEL@lt;@gt;@#146;未提交@#146;@nbsp;and@nbsp;item_LeaveType=@#146;补休@#146;@nbsp;and@nbsp;item_Applicant=@#146;@quot;@nbsp;+@nbsp;userId@nbsp;+@nbsp;@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;doc2@nbsp;=@nbsp;findBySQL(sql2);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;countLeaveDay@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;countLeaveDay1@nbsp;=@nbsp;0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(doc2@nbsp;!=@nbsp;null)@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;countLeaveDay1@nbsp;=@nbsp;doc2.getItemValueAsDouble(@quot;countLeaveDays@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(stateLabel@nbsp;==@nbsp;null@nbsp;||@nbsp;@quot;@quot;==(stateLabel))@nbsp;{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;countLeaveDay@nbsp;=@nbsp;countLeaveDay1@nbsp;+@nbsp;LeaveDays;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;days@nbsp;=@nbsp;countHours@nbsp;-@nbsp;countLeaveDay;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;str@nbsp;=@nbsp;@quot;剩余调休：@quot;@nbsp;+@nbsp;days@nbsp;+@nbsp;@quot;天,已请调休：@quot;@nbsp;+@nbsp;countLeaveDay1@nbsp;+@nbsp;@quot;天@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;html@nbsp;=@nbsp;@quot;@lt;span@nbsp;style=@#146;color:red;@#146;@gt;@quot;@nbsp;+@nbsp;str@nbsp;+@nbsp;@quot;@lt;/span@gt;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;return@nbsp;html;@amp;#13;})()" calculateonrefresh="true" /></span></td>
        </tr>
        <tr>
            <td style="border: 1px solid rgb(180, 204, 238);" align="right" width="15%"><span style="color: rgb(255, 0, 0);">*</span><span style="color: rgb(96, 98, 102);">请假事由 Reason for leave：</span></td>
            <td style="border: 1px solid rgb(180, 204, 238);" colspan="3" align="left" bordercolor="#DCDCDC"><span style="color: rgb(96, 98, 102);"><textarea classname="cn.myapps.runtime.dynaform.form.ejb.TextareaField" id="__NSfslWGWTxnxou175Yj" name="Reasons" readonlyshowvalonly="true" hidetype="parent" ishidetype="false" fieldtype="VALUE_TYPE_TEXT" discript="请假事由" validaterule="" valuescript="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" filtercondition="" refreshonchanged="false" worklimitchecked="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" instantvalidate="false" validatelibs="core.dynaform.form.formfield.validate.checkEmpty_system" editmode="01" width="100" processdescription="[];[]" refreshmode="0" refreshfields="" textareaheight="" textareamaxlimit="" texttype="text" showlog="true" widthunit="%" attributeid="undefined"></textarea></span></td>
        </tr>
    </tbody>
</table>
<div style="text-align: center;">&nbsp;<br />
<br />
&nbsp;</div>
<br />]]></templatecontext>
  <type>1</type>
  <styleId></styleId>
  <showLog>false</showLog>
  <showLogType>default</showLogType>
  <openComment>false</openComment>
  <commentTitleScript><![CDATA[]]></commentTitleScript>
  <commentFlagScript><![CDATA[]]></commentFlagScript>
  <commentHiddenScrtipt><![CDATA[]]></commentHiddenScrtipt>
  <commentExecuteScript><![CDATA[]]></commentExecuteScript>
  <recordMode>every</recordMode>
  <recordModeScript><![CDATA[]]></recordModeScript>
  <showType>old</showType>
  <showWaterMark>false</showWaterMark>
  <waterMarkScript></waterMarkScript>
  <version>1</version>
  <isopenablescript><![CDATA[]]></isopenablescript>
  <iseditablescript><![CDATA[]]></iseditablescript>
  <mappingStr><![CDATA[{"formName":"LeaveApplication","tableName":"","columnMappings":[]}]]></mappingStr>
  <orderno>1</orderno>
  <permissionType>public</permissionType>
  <layoutType>horizontal</layoutType>
</form>