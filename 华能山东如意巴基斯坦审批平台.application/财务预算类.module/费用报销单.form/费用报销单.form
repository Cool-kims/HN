<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<form id="__11e7-ef13-4f3b68b1-8f99-af63cc0890b3">
  <name>费用报销单</name>
  <parentId>11e7-ef13-4f3aa555-8f99-af63cc0890b3</parentId>
  <description></description>
  <templatecontext><![CDATA[<table width="800" align="center">
    <caption>
    <h3>
    <div>华能山东如意（巴基斯坦）能源（私人）有限公司</div>
    <div>Huaneng Shandong Ruyi(Pakistan) Energy Private.,Ltd</div>
    </h3>
    <h4 style="text-align: center;"><strong style="font-size: 12px;"><span style="font-size: x-large;">费用报销单</span></strong></h4>
    <p style="text-align: center;">Expense Reimbursement Application<input id="__O3XajrVYY7z8ZAdZgwN" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="清空签字" type="button" name="清空签字" mobile="false" impmappingconfigid="" transpond="" hiddenscript="" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" afteractionscript="var@nbsp;cid=getId();@amp;#13;var@nbsp;bzr=getItemValueAsString(@quot;编制人@quot;);@amp;#13;var@nbsp;name=getWebUser().getName();@amp;#13;//var@nbsp;bh=getItemValueAsString(@quot;编号@quot;);@amp;#13;if(name==(bzr)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql=@quot;update@nbsp;TLK_费用报销单@nbsp;set@nbsp;item_合同承办人=@#146;@#146;,item_承办部门负责人=@#146;@#146;,item_会签部门一=@#146;@#146;,item_会签部门二=@#146;@#146;,item_会签部门三=@#146;@#146;,item_会签部门四=@#146;@#146;,ITEM_费用归口管理部门=@#146;@#146;,ITEM_税务会计=@#146;@#146;@nbsp;where@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;println(@quot;sql===@quot;+sql);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sql);@amp;#13;}name=getWebUser().getLoginno();@amp;#13;var@nbsp;qzsql=@quot;select@nbsp;id,domainid,formid,applicationid,to_char(item_印签)@nbsp;item_印签字符@nbsp;from@nbsp;tlk_印签管理表单@nbsp;where@nbsp;item_帐号=@#146;@quot;+name+@quot;@#146;@quot;;//根据当前登录人的姓名从签字表中选取对应记录&#9;@amp;#13;var@nbsp;datas@nbsp;=@nbsp;queryBySQL(qzsql);@amp;#13;var@nbsp;yqzf=@quot;@quot;;@amp;#13;var@nbsp;jqzf=@quot;@quot;;@amp;#13;if(datas!=null){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;for(var@nbsp;iterator@nbsp;=@nbsp;datas.iterator();@nbsp;iterator.hasNext();){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;doc@nbsp;=@nbsp;iterator.next();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;yqzf@nbsp;=@nbsp;doc.getItemValueAsString(@quot;印签字符@quot;);//数据库字段名称@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//&#9;@nbsp;println(@quot;yqzf===@quot;+yqzf);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;yqzfx=new@nbsp;(Java.type(@#146;java.lang.String@#146;))(yqzf);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//println(@quot;yqzfx==@quot;+yqzfx);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//println(@quot;长度==@quot;+yqzfx.length-48);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;jqzf=yqzfx.substring(yqzfx.length-48,yqzfx.length-8);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sgjl=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_合同承办人=@#146;@#146;@nbsp;where@nbsp;item_合同承办人@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sgjl);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sgxmfzr=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_承办部门负责人=@#146;@#146;@nbsp;where@nbsp;item_承办部门负责人@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sgxmfzr);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;cwbkj=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_费用归口管理部门=@#146;@#146;@nbsp;where@nbsp;item_费用归口管理部门@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,cwbkj);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;swbkj=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_税务会计=@#146;@#146;@nbsp;where@nbsp;item_税务会计@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,swbkj);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;hqbm1=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_会签部门一=@#146;@#146;@nbsp;where@nbsp;item_会签部门一@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,hqbm1);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;hqbm2=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_会签部门二=@#146;@#146;@nbsp;where@nbsp;item_会签部门二@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,hqbm2);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;hqbm3=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_会签部门三=@#146;@#146;@nbsp;where@nbsp;item_会签部门三@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,hqbm3);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;hqbm4=@quot;update@nbsp;tlk_费用报销单@nbsp;set@nbsp;item_会签部门四=@#146;@#146;@nbsp;where@nbsp;item_会签部门四@nbsp;like@nbsp;@#146;%@quot;+jqzf+@quot;%@#146;@nbsp;and@nbsp;id=@#146;@quot;+cid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,hqbm4);@amp;#13;@amp;#13;}" beforeactionscript="" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__yrOtGCVQGKXtbKRl4CK" text="hidden" name="fhdid" texttype="hidden" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="(function(){@amp;#13;var@nbsp;value@nbsp;=@nbsp;getItemValueAsString(@quot;fhdid@quot;);@amp;#13;if@nbsp;(value==null@nbsp;||@nbsp;value.trim().length@lt;=0){@amp;#13;value@nbsp;=@nbsp;getParameter(@quot;_fhdid@quot;);@nbsp;@nbsp;//获取参数值以字符型返回@amp;#13;}@amp;#13;return@nbsp;@nbsp;value;@amp;#13;})()@amp;#13;" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /></p>
    <p style="text-align: center;"><img classname="cn.myapps.runtime.dynaform.form.ejb.ViewDialogField" src="images/viewdialog.gif" id="__TpZqfPomjU3v4F7Ha9v" type="viewdialogfield" name="付汇单选择" caption="选择付汇单ChoosePayBill" maximization="default" divheight="" divwidth="" refreshonchanged="false" calculateonrefresh="false" mobile="true" mutilselect="false" selectone="false" allowviewdoc="false" opentype="3" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" okscript="" callbackscript="" validatelibs="" dialogview="11e8-0282-5de801fa-a4c3-83598629d569" module="11e7-ef13-4f3aa555-8f99-af63cc0890b3" refreshmode="0" refreshfields="" mapping="11e8-0283-0875a94a-a4c3-83598629d569:fhdid;11e6-df27-7aa856cd-a2ac-5708fbc6ce7e:付汇单编号" /><span style="font-size: small;">付汇单编号 Pay Bill Number:</span><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__ZjUZYnoJEBHnNfmDQh2" text="readonly" name="付汇单编号" texttype="readonly" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="var@nbsp;fhdbh=getItemValueAsString(@quot;付汇单编号@quot;);@amp;#13;var@nbsp;fhdid=getItemValueAsString(@quot;fhdid@quot;);@amp;#13;var@nbsp;docid=getId();@amp;#13;if(!isNotNull(fhdbh)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql=@quot;select@nbsp;*@nbsp;from@nbsp;tlk_银行付汇申请单@nbsp;where@nbsp;1=1@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if(isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;and@nbsp;id=@#146;@quot;+fhdid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;and@nbsp;item_clbxdid=@#146;@quot;+docid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;data=findBySQL(sql);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;println(@quot;data:@quot;+data)@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if(isNotNull(data)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;fhdbh=data.getItemValueAsString(@quot;编号@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}@amp;#13;fhdbh;@amp;#13;" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /></p>
    <p style="text-align: center;">&nbsp;</p>
    </caption>
    <tbody>
        <tr>
            <td colspan="2" style="text-align: left">编号NO：&nbsp;<input id="__Q0dqA9EKKao18sVAXJs" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" name="编号" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="readonly" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="readonly" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" /></td>
            <td style="text-align: right">编制人 Editor:&nbsp;</td>
            <td><input id="__kXTCdxV5q0NX6vox5Rj" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" name="编制人" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="readonly" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="var@nbsp;value@nbsp;=@nbsp;getItemValueAsString(@quot;编制人@quot;);@nbsp;@amp;#10;@amp;#13;if@nbsp;(value==null@nbsp;||@nbsp;value.trim().length@lt;=0){@amp;#10;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value@nbsp;=@nbsp;getWebUser().getName();@nbsp;@amp;#10;@amp;#13;}@amp;#10;@amp;#13;value;" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="readonly" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" />&nbsp;</td>
            <td colspan="2" style="text-align: right"><font face="宋体">编制日期Date</font>：<input id="__kdFRxY5BrASkAEd6F6i" class="cn.myapps.runtime.dynaform.form.ejb.DateField" value="" name="填表日期" classname="cn.myapps.runtime.dynaform.form.ejb.DateField" limit="false" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="var@nbsp;value@nbsp;=@nbsp;getItemValueAsString(@quot;填表日期@quot;);@amp;#10;@amp;#13;if@nbsp;(value==null||value==@#146;@#146;){@amp;#10;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value@nbsp;=@nbsp;getToday();@amp;#10;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value=format(value,@quot;yyyy-MM-dd@quot;);@nbsp;@amp;#10;@amp;#13;}@amp;#10;@amp;#13;value;" filtercondition="" discript="" fieldtype="VALUE_TYPE_DATE" texttype="readonly" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" datepattern="YMD" prev_name="" /></td>
        </tr>
    </tbody>
</table>
<table border="1" width="800" align="center">
    <tbody>
        <tr>
            <td colspan="4" style="text-align: center">
            <p>报销部门Department</p>
            </td>
            <td colspan="2"><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__AnOSRRlCwlG9Nn1pGoP" text="readonly" name="部门" texttype="readonly" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="var@nbsp;value1@nbsp;=@nbsp;getItemValueAsString(@quot;部门@quot;);@amp;#13;if(value1==null||value1.trim().length@lt;=0){@amp;#13;@nbsp;@nbsp;var@nbsp;deptid@nbsp;=@nbsp;getWebUser().getDefaultDepartment();@amp;#13;&#9;var@nbsp;depprocess=getDepartmentProcess();@amp;#13;&#9;var@nbsp;dept=depprocess.doView(deptid);//deptid为部门ID@nbsp;@nbsp;//该句是根据部门id拿到部门对象@amp;#13;&#9;if@nbsp;(dept@nbsp;!=@nbsp;null)@nbsp;{@amp;#13;&#9;&#9;value1@nbsp;=@nbsp;dept.getName();@amp;#13;&#9;}@amp;#13;}@amp;#13;value1;" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /></td>
            <td colspan="2">报销人Applicant</td>
            <td style="text-align: left"><input id="__y2aB8xgHp0db6Zupaew" value="" size="12" name="报销人" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="false" mobile="true" filtercondition="" discript="" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" class="cn.myapps.runtime.dynaform.form.ejb.InputField" style="width: 95px" /></td>
            <td>日期Date</td>
            <td><input id="__MAPfetqtbmCjqRRmVjS" value="" size="12" name="日期" classname="cn.myapps.runtime.dynaform.form.ejb.DateField" limit="false" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="var@nbsp;value@nbsp;=@nbsp;getItemValueAsString(@quot;日期@quot;);@amp;#13;if@nbsp;(value==null||value==@#146;@#146;){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value@nbsp;=@nbsp;getToday();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value=format(value,@quot;yyyy-MM-dd@quot;);@nbsp;@amp;#13;}@amp;#13;value;" filtercondition="" discript="" fieldtype="VALUE_TYPE_DATE" texttype="text" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" datepattern="YMD" prev_name="" style="width: 97px" /></td>
            <td style="text-align: right" colspan="2">&nbsp;</td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">附件张数Pages of Attachment</td>
            <td colspan="9">&nbsp;共<input id="__l5hzweB0JyrbeqfSv0i" value="" size="6" name="附件张数" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="readonly" mobile="true" hiddenscript="" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="var@nbsp;str=getItemValueAsString(@quot;附件上传@quot;);@amp;#13;println(@quot;str:@quot;+str);@amp;#13;var@nbsp;arr=str.split(@quot;path@quot;);@amp;#13;println(@quot;result:@quot;+arr.length);@amp;#13;arr.length-1;@amp;#13;@amp;#13;" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="readonly" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" style="width: 46px;" readonlyshowvalonly="true" refreshmode="0" refreshfields="" />张<img id="__bCw7iXqfm4OTsGFBm6t" name="附件上传" src="../image/form/attachment.gif" classname="cn.myapps.runtime.dynaform.form.ejb.AttachmentUploadField" type="attachmentupload" opentype="download" hiddenscript="" refreshonchanged="true" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" discript="" fieldtype="VALUE_TYPE_TEXT" validatelibs="" validaterule="" filecatalog="" filepattern="00" limitnumber="10" customizetype="" filetype="00" limitsize="1024000" openwatermark="false" watermarksupportmode="" watermarkscript="" calculateonrefresh="true" readonlyshowvalonly="true" mobile="true" previewedit="true" supportsorting="false" refreshmode="0" refreshfields="" style="font-size: 13.3333px;" newversionscript="" versioncomparescript="" restorescript="" downloadscript="" deletescript="HideFileFiled()" renamescript="" previewscript="" editscript="" instantvalidate="false" showlog="true" showtrackrevisions="false" showusernameanddate="false" islogicdelete="false" isallowdownload="true" isallowprint="true" isallowcopy="true" hidetype="parent" ishidetype="false" selecteditplug="tray" previewtype="page" attributeid="undefined" /></td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">摘要 Summary</td>
            <td colspan="9"><textarea id="__0fk9tK6PFZx6S6bY2Nl" cols="56" classname="cn.myapps.runtime.dynaform.form.ejb.TextareaField" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="" filtercondition="" discript="" fieldtype="VALUE_TYPE_TEXT" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" style="width: 664px; height: 200px; margin: 0px;" name="摘要"></textarea>&nbsp;</td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">
            <p>付款方式</p>
            <p>Payment method</p>
            </td>
            <td colspan="4"><select classname="cn.myapps.runtime.dynaform.form.ejb.SelectField" id="__dlmEnQoWsUwLWerreeh" name="付款方式" discript="" readonlyshowvalonly="true" valuescript="" optionsscript="@quot;银行付汇Bank@nbsp;Pay;冲抵备用金Against@nbsp;Advance@nbsp;to@nbsp;Employees;现金Cash@quot;" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" texttype="text" readonlyscript="" fieldtype="VALUE_TYPE_VARCHAR" processdescription="[];[]" filtercondition="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" validatelibs="" editmode="01" optionseditmode="01" dialogview="" module="" optionsvalue="" refreshmode="0" refreshfields="" optionstext=""></select></td>
            <td>
            <p style="text-align: center;">付款金额</p>
            <p style="text-align: center;">Amount</p>
            </td>
            <td colspan="5"><select classname="cn.myapps.runtime.dynaform.form.ejb.SelectField" id="__mTQwzrucL7V7r9xxwTr" name="币种" discript="" readonlyshowvalonly="true" valuescript="" optionsscript="#include@nbsp;@quot;optFuns@quot;;@amp;#13;curropts();" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" texttype="text" readonlyscript="" fieldtype="VALUE_TYPE_VARCHAR" processdescription="[];[]" filtercondition="" refreshonchanged="true" isdefaultvalue="false" calculateonrefresh="false" mobile="true" validatelibs="" editmode="01" optionseditmode="01" dialogview="" module="" optionsvalue="" refreshmode="0" refreshfields="" optionstext=""></select><input id="__gFhKaznomYxQyo2YhZM" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="3" name="金额大写" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="hidden" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="false" mobile="true" filtercondition="" discript="" fieldkeyevent="Tabkey" texttype="hidden" numberpattern="" bordertype="false" calculateonrefresh="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="#include@nbsp;@quot;toUpMoneyLib@quot;;@amp;#10;@amp;#13;var@nbsp;srcMoney@nbsp;=getItemValueAsDouble(@quot;金额小写@quot;);@amp;#10;@amp;#13;DX(srcMoney);" validatelibs="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" style="width: 29px;" /><input id="__idcKeXb4uzyyTTsF2oE" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" name="付款金额" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_NUMBER" refreshonchanged="true" mobile="true" filtercondition="" discript="" fieldkeyevent="Tabkey" texttype="text" numberpattern="#,##0.00" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="/*@nbsp;(function(){@amp;#13;var@nbsp;value@nbsp;=@nbsp;getItemValueAsString(@quot;币种@quot;);@amp;#13;return@nbsp;value;@amp;#13;})()@nbsp;*/&#9;" validatelibs="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" readonlyshowvalonly="true" refreshmode="0" refreshfields="大写" /></td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">
            <p>费控部门Cost control department</p>
            </td>
            <td colspan="4"><input id="__PWycDQGrqK4gC4Br46N" value="" name="费控部门" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="readonly" mobile="true" hiddenscript="" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="readonly" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" readonlyshowvalonly="true" refreshmode="0" refreshfields="" /></td>
            <td style="text-align: center"><span style="font-size: 14px">大写In Words</span></td>
            <td colspan="4"><input id="__S8R0uZmA6W0H4PQPbWs" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="43" name="大写" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="#include@nbsp;@quot;toUpMoneyLib@quot;;@amp;#13;var@nbsp;srcMoney@nbsp;=getItemValueAsDouble(@quot;付款金额@quot;);@amp;#13;var@nbsp;types=getItemValueAsString(@quot;币种@quot;);@amp;#13;englishmoney(srcMoney,types);" validatelibs="" validaterule="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" style="width: 328px" readonlyshowvalonly="true" refreshmode="0" refreshfields="" /></td>
        </tr>
        <tr>
            <td colspan="4">费用类型type</td>
            <td colspan="5"><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__AGeCQqvMLbl8IW2fYYz" text="hidden" name="费用类型" texttype="hidden" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="true" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__XpWgGH2aLMqcgX79acd" text="readonly" name="费用类型名称" texttype="readonly" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="true" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /><img classname="cn.myapps.runtime.dynaform.form.ejb.ViewDialogField" src="images/viewdialog.gif" id="__eC0Cxy4ekvDzK0O7rGD" type="viewdialogfield" name="费用科目选择" caption="" maximization="default" divheight="" divwidth="" refreshonchanged="true" calculateonrefresh="true" mobile="true" mutilselect="false" selectone="false" allowviewdoc="false" opentype="3" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" okscript="" callbackscript="" validatelibs="" dialogview="11e8-37c1-da65cb70-94e7-ef330bda161e" module="11e7-ef13-4f38d164-8f99-af63cc0890b3" refreshmode="0" refreshfields="" mapping="11e7-eaec-44ccbfc1-b963-ed61b29a709b:费用类型;11e7-eaec-44ccbfc2-b963-ed61b29a709b:费用类型名称;11e8-07dd-9d45e3b8-a4c3-83598629d569:费控部门" /></td>
            <td colspan="4">&nbsp;</td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">经办人 Operator</td>
            <td colspan="2"><input id="__kA9rk4aaG4qobgqcV5N" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="合同承办人" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="经办人签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;合同承办人@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__BgcziHlrgdDRszxLEti" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;合同承办人@#146;);" name="QZ73c398d03" /><input id="__C4JqvNrm8gphSSwkYLd" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字A" type="button" name="签字A" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;合同承办人@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;docs.findItem(@quot;合同承办人@quot;).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" jumpactopentype="0" refreshmode="0" refreshfields="" /></td>
            <td>部门主任<br />
            Department Director</td>
            <td colspan="2"><input id="__oQeGA8zKvwRuMphzZR6" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="承办部门负责人" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="经办部门主任签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;承办部门负责人@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__4NnsyI6b5bXBhj4xxdF" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;承办部门负责人@#146;);" name="QZ2a0da7185" /><input id="__h2QApdIGsCue54zahdH" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字B" type="button" name="签字B" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;承办部门负责人@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;docs.findItem(@quot;承办部门负责人@quot;).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" jumpactopentype="0" refreshmode="0" refreshfields="" /></td>
            <td>财务部会计Financial Approve</td>
            <td><input id="__1uo82rG9HrxG2Jv7cbl" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="会签部门一" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="财务部主任签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;会签部门一@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__W4N9iQRHY4mSyAS76SA" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;会签部门一@#146;);" name="QZ0e4b74c12" /><input id="__maat55raQsyPSZgcQnj" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字C" type="button" name="签字C" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;会签部门一@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;docs.findItem(@quot;会签部门一@quot;).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /></td>
            <td style="text-align: center">
            <p>财务部主任 Financial Director</p>
            </td>
            <td><input id="__QH7YlsPx9Iqop0ftZdg" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="会签部门二" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="费用归口管理部门签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;会签部门二@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__mZyAM8SQDNHmOFtlKfl" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;会签部门二@#146;);" name="QZc8aaf7c0a" /><input id="__Aifk1g66oEMcbC39Aw4" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字D" type="button" name="签字D" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;会签部门二@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;docs.findItem(@quot;会签部门二@quot;).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /></td>
        </tr>
        <tr>
            <td colspan="4" style="text-align: center">费用归口管理部门&nbsp;Cost control department</td>
            <td colspan="2" style="text-align: left"><input id="__IHKjfrD4gHJNR7gBmmc" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="费用归口管理部门" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="费用归口管理部门签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;费用归口管理部门@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__YjkBGRPOmX41Rkj6YEc" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;showSign(@#146;费用归口管理部门@#146;);" name="QZ60f6707b3" /><input id="__joVd2zgKIRQTHt7faAk" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字E" type="button" name="签字E" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;费用归口管理部门@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;docs.findItem(@quot;费用归口管理部门@quot;).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;&#9;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /></td>
            <td>分管领导<br />
            Superior Officer</td>
            <td colspan="2"><input id="__29yzHRM4Wng4NJqpSI5" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="会签部门三" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="分管领导签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;会签部门三@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__aq2YEGxIxOZIvJTOakR" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;会签部门三@#146;);" name="QZ21318d164" /><input id="__DuQdV79EW79QI2x0fqs" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字F" type="button" name="签字F" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;会签部门三@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;//@amp;#13;var@nbsp;r_zkjs=@quot;总会计师@quot;;//角色:总会计师@amp;#13;var@nbsp;r_zjl=@quot;总经理@quot;;//角色:总经理@amp;#13;//@amp;#13;var@nbsp;_fgld=@quot;会签部门三@quot;;//表单:分管领导@amp;#13;var@nbsp;_zkjs=@quot;税务会计@quot;;//表单:总会计师@amp;#13;var@nbsp;_zjl=@quot;会签部门四@quot;;//表单:总经理@amp;#13;//@amp;#13;var@nbsp;_tabname=@quot;费用报销单@quot;;//多端表名@amp;#13;var@nbsp;_colname=@quot;FYBXDID@quot;;//多端字段名@amp;#13;//@amp;#13;var@nbsp;t_tabname=@quot;银行付汇申请单@quot;;//目标表名@amp;#13;var@nbsp;t_colname=@quot;@quot;;//目标字段名@amp;#13;var@nbsp;t_zkjs=@quot;监察审计签字@quot;;//目标操作字段1:总会计师@amp;#13;var@nbsp;t_zjl=@quot;计经预算签字@quot;;//目标操作字段2:总经理@amp;#13;@amp;#13;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;var@nbsp;gl=getRoleSign(r_zkjs);@amp;#13;var@nbsp;stj=getRoleSign(r_zjl);@amp;#13;var@nbsp;zkjsqz=gl;@amp;#13;var@nbsp;zjlqz=stj;@amp;#13;var@nbsp;zjlrole@nbsp;=@nbsp;getRoleIdByName(r_zjl);@amp;#13;var@nbsp;zjluser@nbsp;=@nbsp;getUsersByRoleId(zjlrole);@amp;#13;var@nbsp;user2=zjluser.iterator().next();@amp;#13;var@nbsp;userid=user2.getId();@amp;#13;var@nbsp;users@nbsp;=@nbsp;new@nbsp;Array();@amp;#13;users=getDlqz(userid);@amp;#13;if(users.length@gt;0){@amp;#13;var@nbsp;v=users[0];@amp;#13;stj+=getSignByLogno(v.getLoginno());@amp;#13;}@amp;#13;var@nbsp;flags=true;@amp;#13;var@nbsp;rtn=@quot;@quot;;@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;rtn=@quot;请在保存之后再签字@quot;;@amp;#13;//createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;docs.findItem(_fgld).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;fhdid=docs.getItemValueAsString(@quot;FHDID@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sqls=@quot;select@nbsp;*@nbsp;from@nbsp;tlk_@quot;+_tabname+@quot;@nbsp;where@nbsp;1=1@nbsp;and@nbsp;(item_fhdid=@#146;@quot;+fhdid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(!isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sqls=sqls+@quot;or@nbsp;id=@#146;@quot;+docid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sqls=sqls+@quot;)@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;datas=queryBySQL(sqls);@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;mun=datas.size();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;fgldms=0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;for(var@nbsp;iter=datas.iterator();iter.hasNext();){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;subdoc@nbsp;=@nbsp;iter.next();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docqz=subdoc.getItemValueAsString(_fgld);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(isNotNull(docqz)@amp;@amp;stj.indexOf(docqz)@gt;=0){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;fgldms=fgldms+1;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(isNotNull(docqz)@amp;@amp;gl.indexOf(docqz)@gt;=0){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;fgldms=fgldms+1;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(fgldms!=0@amp;@amp;mun==fgldms){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//更新付汇单总经理签字@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;roleid@nbsp;=@nbsp;getRoleIdByName(r_zjl);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;roleusers@nbsp;=@nbsp;getUsersByRoleId(roleid);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;user=roleusers.iterator().next();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;curuser@nbsp;=getWebUser();@amp;#13;var@nbsp;logs=user.getLoginno();@amp;#13;if(users.length@gt;0){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;logs=logs+@quot;,@quot;+users[0].getLoginno();@amp;#13;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//分管领导是总经理@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(user!=null@nbsp;@amp;@amp;@nbsp;logs.indexOf(curuser.getLoginno())@gt;=0){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//更新付汇单总经理签字@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docid=docs.getId();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql=@quot;update@nbsp;tlk_@quot;+t_tabname+@quot;@nbsp;set@nbsp;item_@quot;+t_zjl+@quot;=@#146;@quot;+zjlqz+@quot;@#146;@nbsp;where@nbsp;1=1@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(!isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;ITEM_@quot;+_colname+@quot;=@nbsp;@#146;@quot;+docid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;id=@nbsp;@#146;@quot;+fhdid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//该功能未启用暂时注销@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sql);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//更新付汇单总会计师签字@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;roleid1@nbsp;=@nbsp;getRoleIdByName(r_zkjs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;roleusers1@nbsp;=@nbsp;getUsersByRoleId(roleid1);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;user1=roleusers1.iterator().next();@amp;#13;//if(zkjsusers.length@gt;0){@amp;#13;//user1=zkjsusers[0];@amp;#13;//}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;curuser1@nbsp;=getWebUser();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//分管领导是总会计师@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if@nbsp;(user1!=null@nbsp;@amp;@amp;@nbsp;curuser1.getLoginno()==(user1.getLoginno())){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//更新付汇单总会计师签字@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docid=docs.getId();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql=@quot;update@nbsp;tlk_@quot;+t_tabname+@quot;@nbsp;set@nbsp;item_@quot;+t_zkjs+@quot;=@#146;@quot;+zkjsqz+@quot;@#146;@nbsp;where@nbsp;1=1@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(!isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;ITEM_@quot;+_colname+@quot;@nbsp;=@#146;@quot;+docid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;id=@nbsp;@#146;@quot;+fhdid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//该功能未启用暂时注销@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sql);@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;//@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;rtn=@quot;系统内暂时未有您的签名，请联系管理员！@quot;;@amp;#13;}@amp;#13;rtn;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /></td>
            <td>总会计师 Chief Accountant</td>
            <td><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__Wwzwv1AfNtqaPTnc0bk" text="text" size="1" name="税务会计" texttype="text" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;signatureUpdate(@#146;税务会计@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="true" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /><input classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" id="__j1iO7r6h6iRxQ11WOoN" type="button" value="签字G" name="签字G" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;税务会计@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="true" calculateonrefresh="true" mobile="false" filenamescript="" statetoshow="" approvelimit="" afteractionscript="" label="签字" beforeactionscript="#include@nbsp;@quot;SignAndSealed@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;var@nbsp;flags=true;@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;&#9;&#9;createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;&#9;}else{@amp;#13;&#9;&#9;docs.findItem(@quot;税务会计@quot;).setValue(path);@amp;#13;&#9;&#9;process.doUpdate(docs);@amp;#13;&#9;&#9;//更新付汇单总会计师签字&#9;&#9;@amp;#13;&#9;&#9;var@nbsp;docid=docs.getId();@nbsp;@amp;#13;&#9;&#9;var@nbsp;sqls=@quot;select@nbsp;*@nbsp;from@nbsp;tlk_费用报销单@nbsp;where@nbsp;ITEM_卢比金额@gt;=32000@nbsp;and@nbsp;(item_fhdid=@#146;@quot;+fhdid+@quot;@#146;@nbsp;@quot;;@amp;#13;&#9;&#9;if(!isNotNull(fhdid)){@amp;#13;&#9;&#9;&#9;sqls=sqls+@quot;or@nbsp;id=@#146;@quot;+docid+@quot;@#146;@quot;;@amp;#13;&#9;&#9;}@amp;#13;&#9;&#9;sqls=sqls+@quot;)@quot;;@amp;#13;&#9;&#9;var@nbsp;datas=queryBySQL(sqls);@amp;#13;&#9;&#9;for(var@nbsp;iter=datas.iterator();iter.hasNext();){@amp;#13;&#9;&#9;&#9;var@nbsp;subdoc@nbsp;=@nbsp;iter.next();@amp;#13;&#9;&#9;&#9;var@nbsp;docqz=subdoc.getItemValueAsString(@quot;税务会计@quot;);@amp;#13;&#9;&#9;&#9;if(!isNotNull(docqz)){@amp;#13;&#9;&#9;&#9;&#9;flags=false;@amp;#13;&#9;&#9;&#9;&#9;break;@amp;#13;&#9;&#9;&#9;}@amp;#13;&#9;&#9;}@amp;#13;&#9;&#9;if(flags){@amp;#13;&#9;&#9;&#9;var@nbsp;sql=@quot;update@nbsp;tlk_银行付汇申请单@nbsp;set@nbsp;item_监察审计签字=@#146;@quot;+path+@quot;@#146;@nbsp;where@nbsp;1=1@nbsp;@quot;;@amp;#13;&#9;&#9;&#9;if(!isNotNull(fhdid)){@amp;#13;&#9;&#9;&#9;&#9;sql=sql+@quot;@nbsp;and@nbsp;ITEM_FYBXDID=@nbsp;@#146;@quot;+docid+@quot;@#146;@nbsp;@quot;;@amp;#13;&#9;&#9;&#9;}else{@amp;#13;&#9;&#9;&#9;&#9;sql=sql+@quot;@nbsp;and@nbsp;id=@nbsp;@#146;@quot;+fhdid+@quot;@#146;@nbsp;@quot;;@amp;#13;&#9;&#9;&#9;}@amp;#13;&#9;&#9;&#9;//该功能未启用暂时注销@amp;#13;&#9;&#9;&#9;updateByDSName(@quot;oracle@quot;,sql);@amp;#13;&#9;&#9;}@amp;#13;&#9;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;" dispatcherurl="" dispatchermode="0" dispatcherparams="" acttype="13" actionview="" actionform="" actionflow="" transpond="" actionprint="" jumptype="0" jumpmode="0" jumpactopentype="0" targetlist="" flowmode="2" withold="false" startflowscript="" flowshowtype="ST01" refreshmode="0" refreshfields="" impmappingconfigid="" colortype="fff" hidetype="parent" ishidetype="false" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /><img id="__pPyhHNQISyHQ2HM5S31" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="plugins/calctextfield/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;showSign(@#146;税务会计@#146;);" name="QZb07d12c25" /></td>
            <td style="text-align: center">总经理<br />
            President</td>
            <td>&nbsp;<input id="__B6uvUvuTx05uAc9UhqE" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="会签部门四" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="text" fieldtype="VALUE_TYPE_VARCHAR" refreshonchanged="true" mobile="true" filtercondition="" discript="总经理签字" fieldkeyevent="Tabkey" texttype="text" numberpattern="" bordertype="false" calculateonrefresh="true" editmode="01" isdefaultvalue="false" processdescription="[];[]" valuescript="" validatelibs="" validaterule="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;signatureUpdate(@#146;会签部门四@#146;,@#146;合同承办人日期@#146;);" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" /><img id="__e4JCzTETv6QSdSoYADn" class="cn.myapps.runtime.dynaform.form.ejb.CalctextField" src="../image/form/calctextfield.gif" classname="cn.myapps.runtime.dynaform.form.ejb.CalctextField" calculateonrefresh="true" valuescript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#10;@amp;#13;showSign(@#146;会签部门四@#146;);" name="QZab1595627" /><input id="__2KFrNT906xrytMqEvos" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" value="签字H" type="button" name="签字H" mobile="false" impmappingconfigid="" transpond="" hiddenscript="#include@nbsp;@quot;SignatureLibs@quot;;@amp;#13;hideViewBox(@#146;会签部门四@#146;);" refreshonchanged="true" calculateonrefresh="true" hiddenvalue="" printhiddenvalue="" readonlyscript="" approvelimit="" beforeactionscript="@quot;SignAndSealed@quot;;@amp;#13;//@amp;#13;var@nbsp;r_zkjs=@quot;总会计师@quot;;//角色:总会计师@amp;#13;var@nbsp;r_zjl=@quot;总经理@quot;;//角色:总经理@amp;#13;//@amp;#13;var@nbsp;_fgld=@quot;会签部门三@quot;;//表单:分管领导@amp;#13;var@nbsp;_zkjs=@quot;税务会计@quot;;//表单:总会计师@amp;#13;var@nbsp;_zjl=@quot;会签部门四@quot;;//表单:总经理@amp;#13;//@amp;#13;var@nbsp;_tabname=@quot;费用报销单@quot;;//多端表名@amp;#13;var@nbsp;_colname=@quot;FYBXDID@quot;;//多端字段名@amp;#13;//@amp;#13;var@nbsp;t_tabname=@quot;银行付汇申请单@quot;;//目标表名@amp;#13;var@nbsp;t_colname=@quot;@quot;;//目标字段名@amp;#13;var@nbsp;t_zkjs=@quot;监察审计签字@quot;;//目标操作字段1:总会计师@amp;#13;var@nbsp;t_zjl=@quot;计经预算签字@quot;;//目标操作字段2:总经理@amp;#13;@amp;#13;@amp;#13;var@nbsp;rtn=@quot;@quot;;@amp;#13;var@nbsp;sql@nbsp;=@nbsp;getQZDocSQL();@amp;#13;var@nbsp;datas@nbsp;=@nbsp;findBySQL(sql);@amp;#13;var@nbsp;stj=getRoleSign(r_zjl);@amp;#13;var@nbsp;zjlqz=stj;@amp;#13;var@nbsp;zjlrole@nbsp;=@nbsp;getRoleIdByName(r_zjl);@amp;#13;var@nbsp;zjluser@nbsp;=@nbsp;getUsersByRoleId(zjlrole);@amp;#13;var@nbsp;user2=zjluser.iterator().next();@amp;#13;var@nbsp;userid=user2.getId();@amp;#13;var@nbsp;users@nbsp;=@nbsp;new@nbsp;Array();@amp;#13;users=getDlqz(userid);@amp;#13;if(users.length@gt;0){@amp;#13;var@nbsp;v=users[0];@amp;#13;stj+=getSignByLogno(v.getLoginno());@amp;#13;}@amp;#13;@amp;#13;if(isNotNull(datas)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;path@nbsp;=@nbsp;getPathByDoc(datas,@quot;印签@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;process@nbsp;=@nbsp;getDocumentProcess();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docs@nbsp;=@nbsp;getCurrentDocument();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;flag@nbsp;=@nbsp;docs.getIstmp();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(flag){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;rtn=@quot;请在保存之后再签字@quot;;@amp;#13;//createAlert(@quot;请在保存之后再签字@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;docs.findItem(_zjl).setValue(path);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;process.doUpdate(docs);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//更新付汇单总经理签字@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docid=docs.getId();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;fhdid=docs.getItemValueAsString(@quot;FHDID@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sqls=@quot;select@nbsp;*@nbsp;from@nbsp;tlk_@quot;+_tabname+@quot;@nbsp;where@nbsp;ITEM_卢比金额@gt;=800000@nbsp;and@nbsp;(item_fhdid=@#146;@quot;+fhdid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(!isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sqls=sqls+@quot;or@nbsp;id=@#146;@quot;+docid+@quot;@#146;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sqls=sqls+@quot;)@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;datas=queryBySQL(sqls);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;m=0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;n=0;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;for(var@nbsp;iter=datas.iterator();iter.hasNext();){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;subdoc@nbsp;=@nbsp;iter.next();@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;docqz=subdoc.getItemValueAsString(_zjl);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;money=subdoc.getItemValueAsDouble(@quot;卢比金额@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;bxr=subdoc.getItemValueAsString(@quot;报销人@quot;);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sgin=false;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(bxr!=@quot;宋太纪@quot;){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(money@gt;=800000){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sgin=true;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;m=m+1;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(sgin@amp;@amp;isNotNull(docqz)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;n=n+1;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(m!=0@amp;@amp;n!=0@amp;@amp;m==n){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;var@nbsp;sql=@quot;update@nbsp;tlk_@quot;+t_tabname+@quot;@nbsp;set@nbsp;item_@quot;+t_zjl+@quot;=@#146;@quot;+zjlqz+@quot;@#146;@nbsp;where@nbsp;1=1@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;if(!isNotNull(fhdid)){@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;ITEM_@quot;+_colname+@quot;=@nbsp;@#146;@quot;+docid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;sql=sql+@quot;@nbsp;and@nbsp;id=@nbsp;@#146;@quot;+fhdid+@quot;@#146;@nbsp;@quot;;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;//该功能未启用暂时注销@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;updateByDSName(@quot;oracle@quot;,sql);@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;}@amp;#13;}else{@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;rtn=@quot;系统内暂时未有您的签名，请联系管理员！@quot;;@amp;#13;//createAlert(@quot;系统内暂时未有您的签名，请联系管理员！@quot;);@amp;#13;}@amp;#13;rtn;" actionprint="" statetoshow="" dispatcherparams="" dispatcherurl="" dispatchermode="0" jumptype="0" jumpmode="0" filenamescript="" flowshowtype="ST01" startflowscript="" actionflow="" flowmode="2" withold="false" acttype="13" targetlist="" actionform="" actionview="" jumpactopentype="0" refreshmode="0" refreshfields="" classname="cn.myapps.runtime.dynaform.form.ejb.ButtonField" label="签字" colortype="fff" hiddenprintscript="" hidetype="parent" ishidetype="false" afteractionscript="" datafield="" signaturetype="HTML" signatureaction="signature" actiondispatcherurlscript="" actiontype="0" actionselection="0" actionscript="" relatedformid="" /></td>
        </tr>
    </tbody>
</table>
<p><br />
&nbsp;</p>
<p><input id="__ZlU1dCvui6Mw2SKCncX" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" size="1" name="监理工程师日期" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="hidden" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="true" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="hidden" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" style="width: 107px" /><input id="__rlGftoS1YKklaa4tgRA" class="cn.myapps.runtime.dynaform.form.ejb.DateField" value="" name="编制日期" classname="cn.myapps.runtime.dynaform.form.ejb.DateField" limit="false" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="false" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="var@nbsp;value@nbsp;=@nbsp;getItemValueAsDate(@quot;编制日期@quot;);@amp;#10;@amp;#13;if@nbsp;(value==null){@amp;#10;@amp;#13;@nbsp;@nbsp;@nbsp;@nbsp;@nbsp;value@nbsp;=@nbsp;getToday();@amp;#10;@amp;#13;}@amp;#10;@amp;#13;value;" filtercondition="" discript="" fieldtype="VALUE_TYPE_DATE" texttype="hidden" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" datepattern="YMD" prev_name="" /><input id="__AIm9HNbzNDANeM1utRb" class="cn.myapps.runtime.dynaform.form.ejb.InputField" value="" name="合同承办人日期" classname="cn.myapps.runtime.dynaform.form.ejb.InputField" text="hidden" mobile="true" hiddenscript="" refreshonchanged="false" calculateonrefresh="true" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" valuescript="" filtercondition="" discript="" fieldkeyevent="Tabkey" fieldtype="VALUE_TYPE_VARCHAR" texttype="hidden" numberpattern="" bordertype="false" editmode="01" isdefaultvalue="false" processdescription="[];[]" validatelibs="" validaterule="" /><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__EY9AqackzsLScGmegJx" text="hidden" name="卢比金额" texttype="hidden" fieldtype="VALUE_TYPE_NUMBER" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="#include@nbsp;@quot;optFuns@quot;;@amp;#13;var@nbsp;curr=getItemValueAsString(@quot;币种@quot;);@amp;#13;var@nbsp;men=getItemValueAsDouble(@quot;付款金额@quot;);@amp;#13;costSub(curr,men);" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="true" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /><input classname="cn.myapps.runtime.dynaform.form.ejb.InputField" id="__1SQahjtPSAPHGtLWpIb" text="hidden" name="编制部门" texttype="hidden" fieldtype="VALUE_TYPE_VARCHAR" fieldkeyevent="Tabkey" readonlyshowvalonly="true" discript="" validaterule="" valuescript="var@nbsp;value1@nbsp;=@nbsp;getItemValueAsString(@quot;编制部门@quot;);@amp;#13;if(value1==null||value1.trim().length@lt;=0){@amp;#13;@nbsp;@nbsp;var@nbsp;deptid@nbsp;=@nbsp;getWebUser().getDefaultDepartment();@amp;#13;&#9;var@nbsp;depprocess=getDepartmentProcess();@amp;#13;&#9;var@nbsp;dept=depprocess.doView(deptid);//deptid为部门ID@nbsp;@nbsp;//该句是根据部门id拿到部门对象@amp;#13;&#9;if@nbsp;(dept@nbsp;!=@nbsp;null)@nbsp;{@amp;#13;&#9;&#9;value1@nbsp;=@nbsp;dept.getName();@amp;#13;&#9;}@amp;#13;}@amp;#13;value1;" hiddenscript="" hiddenvalue="" hiddenprintscript="" printhiddenvalue="" readonlyscript="" refreshonchanged="false" isdefaultvalue="false" calculateonrefresh="false" mobile="true" numberpattern="" processdescription="[];[]" filtercondition="" validatelibs="" editmode="01" refreshmode="0" refreshfields="" /></p>]]></templatecontext>
  <type>1</type>
  <styleId>11e7-ef13-4f3acc67-8f99-af63cc0890b3</styleId>
  <showLog>false</showLog>
  <showLogType>default</showLogType>
  <openComment>false</openComment>
  <commentTitleScript><![CDATA[]]></commentTitleScript>
  <commentFlagScript><![CDATA[]]></commentFlagScript>
  <commentHiddenScrtipt><![CDATA[]]></commentHiddenScrtipt>
  <commentExecuteScript><![CDATA[]]></commentExecuteScript>
  <recordMode>every</recordMode>
  <recordModeScript><![CDATA[]]></recordModeScript>
  <showType>old</showType>
  <showWaterMark>false</showWaterMark>
  <waterMarkScript></waterMarkScript>
  <version>1</version>
  <isopenablescript><![CDATA[]]></isopenablescript>
  <iseditablescript><![CDATA[]]></iseditablescript>
  <mappingStr><![CDATA[{"formName":"费用报销单","tableName":"","columnMappings":[]}]]></mappingStr>
  <orderno>0</orderno>
  <permissionType>public</permissionType>
  <layoutType>horizontal</layoutType>
</form>